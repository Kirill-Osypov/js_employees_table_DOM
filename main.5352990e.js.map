{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","table","tbody","array","rows","map","row","cells","innerText","checkout","name","position","office","age","salary","sortABCTable","word","index","sort","a","b","localeCompare","reverse","changeTheTable","arr","innerHTML","newRow","insertRow","j","length","insertCell","appendChild","createTextNode","addEventListener","e","querySelectorAll","target","tagName","closest","classList","toggle","replace","list","insertAdjacentHTML","form","check","remove","value","pushNotification","addToTable","push","toLocaleString","posTop","posRight","title","description","type","notification","createElement","h2","p","className","style","right","top","setAttribute","setTimeout","input","selectedRow","indexCell","children","findIndex","x","indexRow","replaceChild","select","act","key"],"mappings":"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","file":"main.5352990e.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst table = document.querySelector('table');\nconst tbody = table.querySelector('tbody');\nconst array = [...tbody.rows].map(row =>\n  [\n    row.cells[0].innerText,\n    row.cells[1].innerText,\n    row.cells[2].innerText,\n    row.cells[3].innerText,\n    row.cells[4].innerText,\n  ]\n);\n\nconst checkout = {\n  name: true,\n  position: true,\n  office: true,\n  age: true,\n  salary: true,\n};\n\ntbody.addEventListener('click', e => {\n  const rows = tbody.querySelectorAll('tr');\n\n  if (e.target.tagName === 'TD') {\n    for (const row of rows) {\n      row.closest('tr').classList.toggle(\n        'active', e.target.closest('tr') === row\n      );\n    }\n  }\n});\n\nfunction sortABCTable(word, index) {\n  if (checkout[word]) {\n    array.sort((a, b) => a[index].localeCompare(b[index]));\n    checkout[word] = !checkout[word];\n  } else {\n    array.reverse();\n    checkout[word] = !checkout[word];\n  }\n}\n\ntable.addEventListener('click', e => {\n  if (e.target.tagName === 'TH') {\n    switch (e.target.innerText) {\n      case 'Name':\n        sortABCTable('name', 0);\n        break;\n      case 'Position':\n        sortABCTable('position', 1);\n        break;\n      case 'Office':\n        sortABCTable('office', 2);\n        break;\n      case 'Age':\n        if (checkout.age) {\n          array.sort((a, b) => a[3] - b[3]);\n          checkout.age = !checkout.age;\n        } else {\n          array.reverse();\n          checkout.age = !checkout.age;\n        }\n        break;\n      case 'Salary':\n        if (checkout.salary) {\n          array.sort((a, b) => {\n            return a[4].replace(/[^0-9]/g, '') - b[4].replace(/[^0-9]/g, '');\n          });\n          checkout.salary = !checkout.salary;\n        } else {\n          array.reverse();\n          checkout.salary = !checkout.salary;\n        }\n        break;\n    }\n    changeTheTable(array);\n  }\n});\n\nfunction changeTheTable(arr) {\n  tbody.innerHTML = '';\n\n  for (const row of arr) {\n    const newRow = tbody.insertRow();\n\n    for (let j = 0; j < row.length; j++) {\n      const newCell = newRow.insertCell();\n\n      newCell.appendChild(document.createTextNode(row[j]));\n    }\n  }\n}\n\nconst list = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\nbody.insertAdjacentHTML('beforeend',\n  `\n    <form class=\"new-employee-form\" onsubmit=\"return false;\">\n        <label>\n          Name: \n          <input data-qa=\"name\" name=\"name\" type=\"text\">\n        </label>\n\n        <label>\n\n          Position: \n          <input data-qa=\"position\" name=\"position\" type=\"text\">\n        </label>\n\n        <label>\n          Office: \n            <select data-qa=\"office\" name=\"office\">\n                ${list.map(office => `<option>${office}</option>`)}\n            </select>\n        </label>\n\n        <label>\n          Age: \n          <input data-qa=\"age\" name=\"age\" type=\"number\">\n        </label>\n\n        <label>\n          Salary: \n            <input data-qa=\"salary\" name=\"salary\" type=\"number\">\n        </label>\n\n        <button type=\"submit\">Save to table</button>\n    </form>\n  `\n);\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', (e) => {\n  const check = document.querySelector('.notification');\n\n  if (check) {\n    check.remove();\n  }\n\n  if (e.target.name.value.length < 4) {\n    pushNotification(10, 10, 'Упс...',\n      `Имя раба слишком короткое!\\n\n      Хоть он его и не достоин...`, 'error');\n\n    return;\n  }\n\n  if (+e.target.age.value < 18) {\n    pushNotification(10, 10, 'Упс...',\n      `Этот раб слишком юн!\\n\n      Пусть подрастет хотя бы до 18,`\n      + `тогда мы сможем использовать его на полную.`, 'error');\n\n    return;\n  }\n\n  if (+e.target.age.value > 90) {\n    pushNotification(10, 10, 'Упс...',\n      `А этот раб слишком стар!\\n\n      Толку от него? Ищи тех кто младше 90,`\n      + `чем младше найдешь тем больше получишь, хе-хе.`, 'error');\n\n    return;\n  }\n\n  if (!e.target.position.value || !e.target.salary.value) {\n    pushNotification(10, 10, 'Упс...',\n      `Мне кажется или ты забыл что-то запонлить?`, 'error');\n\n    return;\n  }\n\n  const addToTable = [];\n\n  addToTable.push(e.target.name.value);\n  addToTable.push(e.target.position.value);\n  addToTable.push(e.target.office.value);\n  addToTable.push(+e.target.age.value);\n\n  const value = +e.target.salary.value;\n\n  addToTable.push('$' + value.toLocaleString('en'));\n\n  array.push(addToTable);\n\n  changeTheTable(array);\n\n  pushNotification(10, 10, 'Успех!',\n    'Добален новый раб!', 'success');\n\n  e.target.name.value = '';\n  e.target.position.value = '';\n  e.target.age.value = '';\n  e.target.salary.value = '';\n});\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const notification = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  h2.innerText = title;\n  h2.className = 'title';\n  p.innerText = description;\n  notification.appendChild(h2);\n  notification.appendChild(p);\n  notification.className = `notification ${type}`;\n  notification.style.right = posRight + 'px';\n  notification.style.top = posTop + 'px';\n  notification.setAttribute('data-qa', 'notification');\n  document.body.appendChild(notification);\n  setTimeout(() => notification.remove(), 5000);\n};\n\ntable.addEventListener('dblclick', e => {\n  if (e.target.tagName !== 'TD') {\n    return;\n  }\n\n  const input = document.createElement('input');\n\n  input.setAttribute('type', 'text');\n  input.setAttribute('class', 'cell-input');\n\n  const selectedRow = document.querySelector('.active');\n  const indexCell = [...selectedRow.children].findIndex(x => x === e.target);\n  const indexRow = [...tbody.rows].findIndex(x => x === selectedRow);\n\n  tbody.rows[indexRow].replaceChild(\n    input, tbody.rows[indexRow].cells[indexCell]);\n\n  input.select();\n\n  input.addEventListener('keydown', act => {\n    if (act.key === 'Enter') {\n      array[indexRow][indexCell] = input.value;\n\n      changeTheTable(array);\n    }\n  });\n\n  input.addEventListener('blur', act => {\n    array[indexRow][indexCell] = input.value;\n\n    changeTheTable(array);\n  });\n});\n"]}